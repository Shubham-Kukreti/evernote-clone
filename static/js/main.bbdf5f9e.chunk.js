(this["webpackJsonpevernote-clone"]=this["webpackJsonpevernote-clone"]||[]).push([[0],{217:function(e,t,c){},370:function(e,t,c){},402:function(e,t,c){"use strict";c.r(t);var n=c(20),s=c(2),a=c(1),i=c.n(a),o=c(90),r=c.n(o),l=(c(217),c(29)),d=c(6),j=function(){return Object(s.jsx)("nav",{className:"green",children:Object(s.jsxs)("div",{className:"nav-wrapper",children:[Object(s.jsx)(l.b,{to:"/",className:"brand-logo",children:"Notebook"}),Object(s.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(s.jsx)("li",{children:Object(s.jsx)(l.c,{to:"/favorites",children:"Favorites"})})})]})})},b=c(31),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(a.useState)(e),c=Object(b.a)(t,2),n=c[0],s=c[1],i=function(){s(e)},o={value:n,onChange:function(e){s(e.target.value)}};return[n,o,i]},u=c(11),O=function(){var e=h(""),t=Object(b.a)(e,3),c=t[0],a=t[1],i=t[2],o=h(""),r=Object(b.a)(o,3),l=r[0],d=r[1],j=r[2],O=Object(u.b)();return Object(s.jsx)("div",{className:"section ",children:Object(s.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),O((t={title:c,content:l},function(e,c,s){(0,s.getFirestore)().collection("notes").add(Object(n.a)(Object(n.a)({},t),{},{favorite:!1,createdAt:new Date})).then((function(){console.log("add the note successfully")})).catch((function(e){console.log(e)}))})),console.log({title:c,content:l}),i(),j()},className:"white",children:[Object(s.jsx)("h5",{className:"grey-text text-darken-3 center",children:"New Note"}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",Object(n.a)({id:"note_title",type:"text",className:"validate"},a)),Object(s.jsx)("label",{htmlFor:"note_title",children:"Note Title"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("textarea",Object(n.a)({id:"note_content",className:"materialize-textarea"},d)),Object(s.jsx)("label",{htmlFor:"note_content",children:"Note Content"})]}),Object(s.jsx)("button",{className:"btn green",children:"ADD"})]})})},x=c(16),f=c(64),m=c.n(f),v=function(e){var t=e.note,c=Object(u.b)(),n=t.favorite?"favorite":"favorite_border";return Object(s.jsxs)("div",{className:"note white",children:[Object(s.jsxs)("div",{className:"right-align",children:[Object(s.jsx)("i",{className:"material-icons red-text ",style:{cursor:"pointer"},onClick:function(){c(function(e){return function(t,c,n){var s=n.getFirestore,a=!e.favorite;s().collection("notes").doc(e.id).update({favorite:a}).then((function(){console.log("toggle favorite success")})).catch((function(e){console.log(e)}))}}(t))},children:n}),Object(s.jsx)("i",{className:"material-icons ",style:{cursor:"pointer"},onClick:function(){c(function(e){return function(t,c,n){(0,n.getFirestore)().collection("notes").doc(e.id).delete().then((function(){console.log("delete the note successfully")})).catch((function(e){console.log(e)}))}}(t))},children:"delete"})]}),Object(s.jsx)(l.b,{to:"/note/"+t.id,children:Object(s.jsx)("h5",{className:"black-text",children:t.title})}),Object(s.jsx)("p",{className:"truncate",children:t.content}),Object(s.jsx)("p",{className:"grey-text",children:m()(t.createdAt.toDate()).fromNow()}),Object(s.jsx)("div",{className:"right-align",children:Object(s.jsx)(l.b,{to:"/editform/".concat(t.id),children:Object(s.jsx)("i",{className:"material-icons black-text",onClick:function(){c({type:"EDIT_NOTE",payload:t})},children:"edit"})})})]})},N=function(e){var t=e.notes;return Object(s.jsx)("div",{className:"noteslist",children:t&&t.map((function(e){return Object(s.jsx)(v,{note:e},e.id)}))})},g=function(){Object(x.useFirestoreConnect)([{collection:"notes",orderBy:["createdAt","desc"]}]);var e=Object(u.c)((function(e){return e.firestore.ordered.notes}));return console.log(e),Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row center-align",children:[Object(s.jsx)("div",{className:"col s7",children:Object(s.jsx)(O,{})}),Object(s.jsx)("div",{className:"col s5",children:Object(s.jsx)(N,{notes:e})})]})})},p=function(){Object(x.useFirestoreConnect)([{collection:"notes",where:["favorite","==",!0],orderBy:["createdAt","desc"],storeAs:"favnotes"}]);var e=Object(u.c)((function(e){return e.firestore.ordered.favnotes}));return console.log(e),Object(s.jsx)("div",{children:Object(s.jsx)(N,{notes:e})})},y=function(e){var t=e.match.params.id;Object(x.useFirestoreConnect)([{collection:"notes",doc:t}]);var c=Object(u.c)((function(e){var c=e.firestore.data;return c.notes&&c.notes[t]}));return Object(x.isLoaded)(c)?Object(x.isEmpty)(c)?Object(s.jsx)("div",{className:"container section",children:Object(s.jsxs)("div",{className:"card z-depth-0",children:[Object(s.jsx)("div",{className:"card-content",children:Object(s.jsx)("span",{className:"card-title",children:"The note content is empty"})}),Object(s.jsx)("div",{className:"card-action grey lighten-4 grey-text"})]})}):Object(s.jsx)("div",{className:"container section",children:Object(s.jsxs)("div",{className:"card z-depth-0",children:[Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("span",{className:"card-title",children:c.title}),Object(s.jsx)("p",{children:c.content})]}),Object(s.jsx)("div",{className:"card-action grey lighten-4 grey-text",children:Object(s.jsx)("div",{children:m()(c.createdAt.toDate()).calendar()})})]})}):Object(s.jsx)("div",{className:"container section",children:Object(s.jsxs)("div",{className:"card z-depth-0",children:[Object(s.jsx)("div",{className:"card-content",children:Object(s.jsx)("span",{className:"card-title",children:"Loading..."})}),Object(s.jsx)("div",{className:"card-action grey lighten-4 grey-text",children:Object(s.jsx)("div",{children:m()(null===c||void 0===c?void 0:c.createdAt.toDate()).calendar()})})]})})},F=function(){var e=Object(u.c)((function(e){return e.note}));console.log("edit form",e);var t=h(e.title),c=Object(b.a)(t,3),a=c[0],i=c[1],o=c[2],r=h(e.content),l=Object(b.a)(r,3),j=l[0],O=l[1],x=l[2],f=Object(u.b)(),m=Object(d.f)();return Object(s.jsx)("div",{className:"section ",children:Object(s.jsxs)("form",{onSubmit:function(t){t.preventDefault(),f(function(e){return function(t,c,n){(0,n.getFirestore)().collection("notes").doc(e.id).update({title:e.title,content:e.content}).then((function(){console.log("update the note succesfully")})).catch((function(e){console.log(e)}))}}({id:e.id,title:a,content:j})),o(),x(),m.push("/")},className:"white",children:[Object(s.jsx)("h5",{className:"grey-text text-darken-3 center",children:"New Note"}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("input",Object(n.a)({id:"note_title",type:"text",className:"validate"},i)),Object(s.jsx)("label",{className:"active",htmlFor:"note_title",children:"Note Title"})]}),Object(s.jsxs)("div",{className:"input-field",children:[Object(s.jsx)("textarea",Object(n.a)({id:"note_content",className:"materialize-textarea"},O)),Object(s.jsx)("label",{htmlFor:"note_content",className:"active",children:"Note Content"})]}),Object(s.jsx)("button",{className:"btn green",children:"Update"})]})})};c(370);var w=function(){return Object(s.jsxs)(l.a,{children:[Object(s.jsx)(j,{}),Object(s.jsxs)(d.c,{children:[Object(s.jsx)(d.a,{exact:!0,path:"/",component:g}),Object(s.jsx)(d.a,{path:"/favorites",component:p}),Object(s.jsx)(d.a,{path:"/note/:id",component:y}),Object(s.jsx)(d.a,{path:"/editform/:id",component:F})]})]})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,404)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))},D=c(30),_=c(50),k={note_to_edit:{}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case"EDIT_NOTE":return n;default:return e}},I=Object(D.c)({note:A,firebase:x.firebaseReducer,firestore:_.firestoreReducer}),T=c(65),z=c(211);c(403);T.a.initializeApp({apiKey:"AIzaSyD1nGnHPVaK2sqsgyUybi4zvYkXwnXfCf8",authDomain:"evernote-clone-2bd9a.firebaseapp.com",projectId:"evernote-clone-2bd9a",storageBucket:"evernote-clone-2bd9a.appspot.com",messagingSenderId:"903088454552",appId:"1:903088454552:web:3f657ccb75c5f44455c9ed"});var E=T.a,S=Object(D.e)(I,Object(D.d)(Object(D.a)(z.a.withExtraArgument({getFirebase:x.getFirebase,getFirestore:_.getFirestore})),Object(_.reduxFirestore)(E))),B={firebase:T.a,config:E,dispatch:S.dispatch,createFirestoreInstance:_.createFirestoreInstance};r.a.render(Object(s.jsx)(u.a,{store:S,children:Object(s.jsx)(x.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},B),{},{children:Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(w,{})})}))}),document.getElementById("root")),C()}},[[402,1,2]]]);
//# sourceMappingURL=main.bbdf5f9e.chunk.js.map